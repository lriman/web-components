"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=getFormattedAmount;var _decimalAdjust=_interopRequireDefault(require("./decimalAdjust"));var _typeChecker=_interopRequireDefault(require("./typeChecker"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function getFormattedAmount(value){if(typeof value!=='number')return'';if(value===Infinity)return'—';var frictionLength;var currency='';var sign=false;for(var _len=arguments.length,rest=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){rest[_key-1]=arguments[_key];}if(rest.length){var signArg=rest.find(function(item){return item==='sign';});if(signArg)sign=true;var frictionArg=rest.find(function(item){return _typeChecker["default"].isNumber(item);});if(_typeChecker["default"].isNumber(frictionArg))frictionLength=frictionArg;var currencyArg=rest.find(function(item){return _typeChecker["default"].isString(item)&&item!=='sign';});if(currencyArg)currency=currencyArg;}var roundedValue=_typeChecker["default"].isNumber(frictionLength)?_decimalAdjust["default"].round(value,-frictionLength):value;var stringValue=roundedValue.toString();var minus=stringValue.indexOf('-')<0?'':'-';if(sign&&value>0)minus='+';var preparedValue=stringValue.replace(',','.').replace(/[^\d\\.]/g,'').replace(/^0+/,'0').replace(/^0([\d\\.]+)$/,'$1');var dotIndex=preparedValue.indexOf('.');var integerValue=preparedValue.substring(0,dotIndex<0?preparedValue.length:dotIndex);var decimalValue=dotIndex<0?'':preparedValue.substring(dotIndex+1);var integerResultArray=[];integerValue.split('').reverse().forEach(function(symbol,index){if(index&&!(index%3))integerResultArray.unshift(' ');integerResultArray.unshift(symbol);});var integerResult=integerResultArray.length?integerResultArray.join(''):'0';var decimalResult=decimalValue;if(_typeChecker["default"].isNumber(frictionLength)){var emptyDecimal=Array(frictionLength).fill('0').join('');decimalResult="".concat(decimalValue).concat(emptyDecimal).substring(0,frictionLength);}return"".concat(minus).concat(integerResult).concat(decimalResult?",".concat(decimalResult):'').concat(currency?"\xA0".concat(currency):'');}