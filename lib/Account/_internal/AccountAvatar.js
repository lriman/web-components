"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=AccountAvatar;var _react=_interopRequireWildcard(require("react"));var _propTypes=_interopRequireDefault(require("prop-types"));var _utils=require("../../_utils");var _colorContext=_interopRequireDefault(require("../../_context/colorContext"));var _Typography=require("../../Typography");var _IconCamera=_interopRequireDefault(require("../../Icon/IconCamera"));var _IconFriends=_interopRequireDefault(require("../../Icon/IconFriends"));var _IconChessBadgeWhite=_interopRequireDefault(require("../../Icon/IconChessBadgeWhite"));var _IconChessBadgeBlack=_interopRequireDefault(require("../../Icon/IconChessBadgeBlack"));var _constants=require("../_constants");var _style=require("../_style");var _utils2=require("../_utils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap();_getRequireWildcardCache=function _getRequireWildcardCache(){return cache;};return cache;}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}var getChangeIconSize=function getChangeIconSize(size){switch(size){case _constants.REFS.SIZES.S:return _IconCamera["default"].REFS.SIZES.XXS;case _constants.REFS.SIZES.M:return _IconCamera["default"].REFS.SIZES.XS;case _constants.REFS.SIZES.L:return _IconCamera["default"].REFS.SIZES.S;case _constants.REFS.SIZES.XL:return _IconCamera["default"].REFS.SIZES.XL;default:return _IconCamera["default"].REFS.SIZES.S;}};var getAvatarInitials=function getAvatarInitials(size,initials){switch(size){case _constants.REFS.SIZES.S:return/*#__PURE__*/_react["default"].createElement(_Typography.Span,{size:"m",weight:"medium",color:"major"},initials);case _constants.REFS.SIZES.M:return/*#__PURE__*/_react["default"].createElement(_Typography.Span,{size:"l",weight:"medium",color:"major"},initials);case _constants.REFS.SIZES.L:return/*#__PURE__*/_react["default"].createElement(_Typography.H5,{color:"major"},initials);case _constants.REFS.SIZES.XL:return/*#__PURE__*/_react["default"].createElement(_Typography.H3,{color:"major"},initials);default:return null;}};var getChessIconType=function getChessIconType(color,size){if(color===_constants.REFS.CHESS_COLORS.WHITE)return/*#__PURE__*/_react["default"].createElement(_IconChessBadgeWhite["default"],{size:(0,_utils2.getIconChessSize)(size)});if(color===_constants.REFS.CHESS_COLORS.BLACK)return/*#__PURE__*/_react["default"].createElement(_IconChessBadgeBlack["default"],{size:(0,_utils2.getIconChessSize)(size)});return null;};function AccountAvatar(props){var name=props.name,light=props.light,avatar=props.avatar,isClickable=props.isClickable,size=props.size,isActive=props.isActive,isFriend=props.isFriend,chessColor=props.chessColor,onChangeClick=props.onChangeClick,rest=_objectWithoutProperties(props,["name","light","avatar","isClickable","size","isActive","isFriend","chessColor","onChangeClick"]);var initials=(0,_utils2.getInitials)(name);var _useContext=(0,_react.useContext)(_colorContext["default"]),_useContext$colorType=_useContext.colorType,colorType=_useContext$colorType===void 0?'normal':_useContext$colorType;return/*#__PURE__*/_react["default"].createElement(_style.StyledAccountAvatar,_extends({},(0,_utils.addDataAttributes)({component:_constants.COMPONENTS.AVATAR}),{sSize:size}),/*#__PURE__*/_react["default"].createElement(_style.StyledAccountAvatarInner,_extends({isLight:light,isClickable:isClickable,title:name,sSize:size,isActive:isActive,sColorType:colorType},rest),avatar&&/*#__PURE__*/_react["default"].createElement(_style.StyledAccountAvatarImg,{src:avatar,alt:name}),!avatar&&/*#__PURE__*/_react["default"].createElement(_style.StyledAccountAvatarInitials,null,/*#__PURE__*/_react["default"].createElement(_colorContext["default"].Provider,{value:{colorType:'inverse'}},getAvatarInitials(size,initials)))),onChangeClick&&/*#__PURE__*/_react["default"].createElement(_style.StyledAccountAvatarChange,{onClick:onChangeClick,sSize:size,sColorType:colorType},/*#__PURE__*/_react["default"].createElement(_IconCamera["default"],{sSize:getChangeIconSize(size)})),chessColor&&/*#__PURE__*/_react["default"].createElement(_style.StyledAccountAvatarChessIcon,{sSize:size},getChessIconType(chessColor,size)),isFriend&&/*#__PURE__*/_react["default"].createElement(_style.StyledAccountAvatarFriendsIcon,{sSize:size,sColorType:colorType},/*#__PURE__*/_react["default"].createElement(_IconFriends["default"],{size:(0,_utils2.getIconFriendsSize)(size),color:_IconFriends["default"].REFS.COLORS.ACCENT_1})));}AccountAvatar.propTypes={name:_propTypes["default"].string.isRequired,size:_propTypes["default"].string.isRequired,compact:_propTypes["default"].bool,light:_propTypes["default"].bool,avatar:_propTypes["default"].string,isClickable:_propTypes["default"].bool,isActive:_propTypes["default"].bool.isRequired,isFriend:_propTypes["default"].bool.isRequired,chessColor:_propTypes["default"].string,onChangeClick:_propTypes["default"].func};AccountAvatar.defaultProps={compact:false,light:false,avatar:null,isClickable:false,chessColor:null,onChangeClick:null};